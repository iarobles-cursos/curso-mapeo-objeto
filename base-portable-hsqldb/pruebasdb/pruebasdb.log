/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C2*/SET SCHEMA PUBLIC
CREATE SEQUENCE usuarios_id_seq START WITH 1 INCREMENT BY 1
CREATE SEQUENCE datos_usuarios_id_seq START WITH 1 INCREMENT BY 1
CREATE TABLE datos_usuarios(\u000a   id INT GENERATED BY DEFAULT AS SEQUENCE datos_usuarios_id_seq,\u000a   biografia CLOB,\u000a   fecha_registro DATE,PRIMARY KEY(id)\u000a)
CREATE TABLE usuarios(\u000a   id INT GENERATED BY DEFAULT AS SEQUENCE usuarios_id_seq,   \u000a   datos_autor_id INT,\u000a   nombre VARCHAR(600),\u000a   email VARCHAR(500),\u000a   password VARCHAR(500),\u000a   rol VARCHAR(500),\u000a   activo BOOLEAN,\u000a   PRIMARY KEY(id),\u000a   FOREIGN KEY(datos_autor_id) REFERENCES datos_usuarios\u000a)
CREATE SEQUENCE articulo_id_seq START WITH 1 INCREMENT BY 1
CREATE SEQUENCE comentario_id_seq START WITH 1 INCREMENT BY 1
CREATE TABLE articulos(\u000a   id INT GENERATED BY DEFAULT AS SEQUENCE articulo_id_seq,\u000a   usuario_id INT, \u000a   titulo VARCHAR(500), \u000a   contenido CLOB, \u000a   fecha_creacion DATE, \u000a   PRIMARY KEY(id), \u000a   FOREIGN KEY(usuario_id) REFERENCES usuarios\u000a)
CREATE TABLE comentarios(\u000a   id INT GENERATED BY DEFAULT AS SEQUENCE comentario_id_seq,\u000a   articulo_id INT,\u000a   comentario CLOB,\u000a   comentarista VARCHAR(500),\u000a   fecha_creacion DATE,\u000a   PRIMARY KEY (id),\u000a   FOREIGN KEY(articulo_id) REFERENCES articulos\u000a)
CREATE SEQUENCE categoria_id_seq START WITH 1 INCREMENT BY 1
CREATE TABLE categorias(\u000a   id INT GENERATED BY DEFAULT AS SEQUENCE categoria_id_seq ,\u000a   nombre VARCHAR(200),\u000a   PRIMARY KEY(id)\u000a)
CREATE TABLE categorias_articulos(\u000a   categoria_id INT ,\u000a   articulo_id INT,\u000a   PRIMARY KEY(categoria_id, articulo_id),\u000a   FOREIGN KEY(categoria_id) REFERENCES categorias,\u000a   FOREIGN KEY(articulo_id) REFERENCES articulos\u000a)
CREATE SEQUENCE departamento_id_seq START WITH 1 INCREMENT BY 1
CREATE TABLE departamentos(\u000a   id INT GENERATED BY DEFAULT AS SEQUENCE departamento_id_seq ,\u000a   nombre VARCHAR(200),\u000a   PRIMARY KEY(id)\u000a)
CREATE TABLE departamentos_usuarios(\u000a   departamento_id INT,\u000a   usuario_id INT,\u000a   PRIMARY KEY(departamento_id, usuario_id),\u000a   FOREIGN KEY(departamento_id) REFERENCES departamentos,\u000a   FOREIGN KEY(usuario_id) REFERENCES usuarios\u000a)
/*C1*/INSERT INTO LOB_IDS VALUES(1,46,0,40)
ALTER SEQUENCE SYSTEM_LOBS.LOB_ID RESTART WITH 2
COMMIT
DELETE FROM BLOCKS WHERE BLOCK_ADDR=0
INSERT INTO BLOCKS VALUES(0,1,0)
INSERT INTO BLOCKS VALUES(1,2147483646,0)
DELETE FROM BLOCKS WHERE BLOCK_ADDR=0
INSERT INTO LOBS VALUES(0,1,0,1)
COMMIT
/*C2*/INSERT INTO DATOS_USUARIOS VALUES(1,1,'2013-10-20')
SET SCHEMA SYSTEM_LOBS
DELETE FROM LOB_IDS WHERE LOB_ID=1
INSERT INTO LOB_IDS VALUES(1,46,1,40)
SET SCHEMA PUBLIC
ALTER SEQUENCE PUBLIC.DATOS_USUARIOS_ID_SEQ RESTART WITH 2
COMMIT
INSERT INTO USUARIOS VALUES(1,1,'Juan Perez','juan@email.com','1234','ROLE_EDITOR',TRUE)
ALTER SEQUENCE PUBLIC.USUARIOS_ID_SEQ RESTART WITH 2
COMMIT
/*C1*/INSERT INTO LOB_IDS VALUES(2,46,0,40)
ALTER SEQUENCE SYSTEM_LOBS.LOB_ID RESTART WITH 3
COMMIT
DELETE FROM BLOCKS WHERE BLOCK_ADDR=1
INSERT INTO BLOCKS VALUES(1,1,0)
INSERT INTO BLOCKS VALUES(2,2147483645,0)
DELETE FROM BLOCKS WHERE BLOCK_ADDR=1
INSERT INTO LOBS VALUES(1,1,0,2)
COMMIT
/*C2*/INSERT INTO DATOS_USUARIOS VALUES(2,2,'2013-10-20')
SET SCHEMA SYSTEM_LOBS
DELETE FROM LOB_IDS WHERE LOB_ID=2
INSERT INTO LOB_IDS VALUES(2,46,1,40)
SET SCHEMA PUBLIC
ALTER SEQUENCE PUBLIC.DATOS_USUARIOS_ID_SEQ RESTART WITH 3
COMMIT
INSERT INTO USUARIOS VALUES(2,2,'Pepe','pepe@email.com','1234','ROLE_ADMIN',TRUE)
ALTER SEQUENCE PUBLIC.USUARIOS_ID_SEQ RESTART WITH 3
COMMIT
/*C1*/INSERT INTO LOB_IDS VALUES(3,20,0,40)
ALTER SEQUENCE SYSTEM_LOBS.LOB_ID RESTART WITH 4
COMMIT
DELETE FROM BLOCKS WHERE BLOCK_ADDR=2
INSERT INTO BLOCKS VALUES(2,1,0)
INSERT INTO BLOCKS VALUES(3,2147483644,0)
DELETE FROM BLOCKS WHERE BLOCK_ADDR=2
INSERT INTO LOBS VALUES(2,1,0,3)
COMMIT
/*C2*/INSERT INTO ARTICULOS VALUES(1,1,'titulo articulo 1',3,'2013-10-24')
SET SCHEMA SYSTEM_LOBS
DELETE FROM LOB_IDS WHERE LOB_ID=3
INSERT INTO LOB_IDS VALUES(3,20,1,40)
SET SCHEMA PUBLIC
ALTER SEQUENCE PUBLIC.ARTICULO_ID_SEQ RESTART WITH 2
COMMIT
/*C1*/INSERT INTO LOB_IDS VALUES(4,20,0,40)
ALTER SEQUENCE SYSTEM_LOBS.LOB_ID RESTART WITH 5
COMMIT
DELETE FROM BLOCKS WHERE BLOCK_ADDR=3
INSERT INTO BLOCKS VALUES(3,1,0)
INSERT INTO BLOCKS VALUES(4,2147483643,0)
DELETE FROM BLOCKS WHERE BLOCK_ADDR=3
INSERT INTO LOBS VALUES(3,1,0,4)
COMMIT
/*C2*/INSERT INTO ARTICULOS VALUES(2,1,'titulo articulo 2',4,'2013-10-24')
SET SCHEMA SYSTEM_LOBS
DELETE FROM LOB_IDS WHERE LOB_ID=4
INSERT INTO LOB_IDS VALUES(4,20,1,40)
SET SCHEMA PUBLIC
ALTER SEQUENCE PUBLIC.ARTICULO_ID_SEQ RESTART WITH 3
COMMIT
/*C1*/INSERT INTO LOB_IDS VALUES(5,15,0,40)
ALTER SEQUENCE SYSTEM_LOBS.LOB_ID RESTART WITH 6
COMMIT
DELETE FROM BLOCKS WHERE BLOCK_ADDR=4
INSERT INTO BLOCKS VALUES(4,1,0)
INSERT INTO BLOCKS VALUES(5,2147483642,0)
DELETE FROM BLOCKS WHERE BLOCK_ADDR=4
INSERT INTO LOBS VALUES(4,1,0,5)
COMMIT
/*C2*/INSERT INTO COMENTARIOS VALUES(1,1,5,'anonimo','2013-09-24')
SET SCHEMA SYSTEM_LOBS
DELETE FROM LOB_IDS WHERE LOB_ID=5
INSERT INTO LOB_IDS VALUES(5,15,1,40)
SET SCHEMA PUBLIC
ALTER SEQUENCE PUBLIC.COMENTARIO_ID_SEQ RESTART WITH 2
COMMIT
/*C1*/INSERT INTO LOB_IDS VALUES(6,15,0,40)
ALTER SEQUENCE SYSTEM_LOBS.LOB_ID RESTART WITH 7
COMMIT
DELETE FROM BLOCKS WHERE BLOCK_ADDR=5
INSERT INTO BLOCKS VALUES(5,1,0)
INSERT INTO BLOCKS VALUES(6,2147483641,0)
DELETE FROM BLOCKS WHERE BLOCK_ADDR=5
INSERT INTO LOBS VALUES(5,1,0,6)
COMMIT
/*C2*/INSERT INTO COMENTARIOS VALUES(2,1,6,'anonimo','2013-11-24')
SET SCHEMA SYSTEM_LOBS
DELETE FROM LOB_IDS WHERE LOB_ID=6
INSERT INTO LOB_IDS VALUES(6,15,1,40)
SET SCHEMA PUBLIC
ALTER SEQUENCE PUBLIC.COMENTARIO_ID_SEQ RESTART WITH 3
COMMIT
INSERT INTO CATEGORIAS VALUES(1,'java')
ALTER SEQUENCE PUBLIC.CATEGORIA_ID_SEQ RESTART WITH 2
COMMIT
INSERT INTO CATEGORIAS VALUES(2,'linux')
ALTER SEQUENCE PUBLIC.CATEGORIA_ID_SEQ RESTART WITH 3
COMMIT
INSERT INTO CATEGORIAS VALUES(3,'xml')
ALTER SEQUENCE PUBLIC.CATEGORIA_ID_SEQ RESTART WITH 4
COMMIT
INSERT INTO CATEGORIAS_ARTICULOS VALUES(1,1)
COMMIT
INSERT INTO CATEGORIAS_ARTICULOS VALUES(2,1)
COMMIT
INSERT INTO CATEGORIAS_ARTICULOS VALUES(3,1)
COMMIT
INSERT INTO CATEGORIAS_ARTICULOS VALUES(1,2)
COMMIT
INSERT INTO CATEGORIAS_ARTICULOS VALUES(2,2)
COMMIT
INSERT INTO DEPARTAMENTOS VALUES(1,'deportes')
ALTER SEQUENCE PUBLIC.DEPARTAMENTO_ID_SEQ RESTART WITH 2
COMMIT
INSERT INTO DEPARTAMENTOS VALUES(2,'tecnologia')
ALTER SEQUENCE PUBLIC.DEPARTAMENTO_ID_SEQ RESTART WITH 3
COMMIT
INSERT INTO DEPARTAMENTOS VALUES(3,'espectaculos')
ALTER SEQUENCE PUBLIC.DEPARTAMENTO_ID_SEQ RESTART WITH 4
COMMIT
INSERT INTO DEPARTAMENTOS VALUES(4,'ciencia')
ALTER SEQUENCE PUBLIC.DEPARTAMENTO_ID_SEQ RESTART WITH 5
COMMIT
INSERT INTO DEPARTAMENTOS_USUARIOS VALUES(1,1)
COMMIT
INSERT INTO DEPARTAMENTOS_USUARIOS VALUES(2,1)
COMMIT
INSERT INTO DEPARTAMENTOS_USUARIOS VALUES(3,1)
COMMIT
INSERT INTO DEPARTAMENTOS_USUARIOS VALUES(3,2)
COMMIT
INSERT INTO DEPARTAMENTOS_USUARIOS VALUES(4,2)
COMMIT
DISCONNECT
